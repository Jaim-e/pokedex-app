let pokemonRepository=function(){let e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=151";function n(){let e=document.querySelector(".loadingMessage"),t=document.createElement("p");t.innerText="Please wait, loading data...",t.classList.add("remove"),e.appendChild(t)}function o(){let e=document.querySelector(".remove");document.querySelector(".loadingMessage").removeChild(e)}function i(t){"object"==typeof t&&"name"in t&&"detailsUrl"in t?e.push(t):console.log("The type of data entered is incorrect.")}function l(e){n();let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){o(),e.imageUrl=t.sprites.front_default,e.height=t.height;let n=[];t.types.forEach(function(e){n.push(e.type.name)}),e.types=n.join(", ")}).catch(function(e){o(),console.error(e)})}return{add:i,getAll:function(){return e},search:function(t){e.find(e=>e.name===t)?console.log(e.filter(e=>e.name.includes(t))):console.log(t+" does not exists")},addListItem:function(e){let t=document.querySelector(".list-group"),n=document.createElement("li");n.classList.add("list-group-item");let o=document.createElement("button");o.innerText=e.name,o.classList.add("btn","btn-dark","btn-block","my-2","custom-button"),o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#exampleModalCenter"),function(e,t){e.addEventListener("click",function(){l(t).then(function(){!function({name:e,height:t,types:n,imageUrl:o}){let i=document.querySelector(".modal-title"),l=document.querySelector(".modal-body");i.innerHTML="",l.innerHTML="";let r=document.createElement("h2");r.innerText=e;let a=document.createElement("p");a.innerText="Height: "+t/10+"  meters";let c=document.createElement("p");c.innerText="Type(s): "+n;let d=document.createElement("img");d.classList.add("modal-img"),d.style.width="50%",d.src=o,i.appendChild(r),l.appendChild(a),l.appendChild(c),l.appendChild(d)}(t)})})}(o,e),n.appendChild(o),t.appendChild(n)},loadList:function(){return n(),fetch(t).then(function(e){return e.json()}).then(function(e){o(),e.results.forEach(function(e){i({name:e.name,detailsUrl:e.url})})}).catch(function(e){o(),console.error(e)})},loadDetails:l,searchBar:function(){document.getElementById("searchBar").addEventListener("keyup",e=>{let t=e.target.value.toUpperCase();document.querySelectorAll(".list-group-item").forEach(e=>{e.innerText.indexOf(t)>-1?e.style.display="":e.style.display="none"})})}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})}),pokemonRepository.searchBar();
